:root{
  --olive:#6f7d58; --slate:#2f3a3e; --bg:#f7f9fb; --surface:#fff; --shadow:0 8px 24px rgba(0,0,0,.12);
  --brand:#5e725e; --accent:#d98b87; --sand:#ead7a8; --sky:#8fb8d8;
  --radius:16px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);font:16px/1.4 system-ui,"Segoe UI",Arial;color:var(--slate)}

.app{position:fixed; inset:0; display:grid}
#map{position:absolute; inset:0; z-index:1}

/* Bottom bar â€“ transparent board, green buttons with white icons/text */
.bottom-bar{
  position:fixed; left:0; right:0; bottom:0; z-index:4;
  display:grid; grid-template-columns:repeat(4,1fr); gap:.5rem;
  background:transparent;
  padding:.5rem .75rem env(safe-area-inset-bottom);
}
.btn{
  -webkit-tap-highlight-color: transparent;
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:.25rem;
  border-radius:12px; padding:.5rem .25rem; cursor:pointer; user-select:none;
  transition:transform .08s ease, box-shadow .2s ease, background .2s ease;
}
.bottom-bar .btn{
  background:var(--brand);
  color:#fff; border:none;
  box-shadow:0 6px 16px rgba(0,0,0,.18);
}
.bottom-bar .btn svg{ width:24px; height:24px; display:block; stroke:#fff }
.bottom-bar .btn span{ font-size:.75rem; font-weight:600; color:#fff }
.bottom-bar .btn:active{ transform:translateY(1px); box-shadow:0 2px 8px rgba(0,0,0,.25) }
.bottom-bar .btn[data-active="true"]{ outline:2px solid #fff; background:#4d6151 }

/* Hint / Answer sheet */
.hint-sheet{
  position:fixed; left:.75rem; right:.75rem; bottom:74px; z-index:3;
  background:var(--surface); border:1px solid rgba(0,0,0,.08); border-radius:var(--radius);
  box-shadow:var(--shadow); overflow:hidden
}
.hint-head{
  display:flex; align-items:center; justify-content:space-between; gap:.5rem;
  padding:.5rem .75rem; background:linear-gradient(180deg,#ffffff,#fafafa); border-bottom:1px solid rgba(0,0,0,.06)
}
.hint-head h3{ margin:0; font-size:.95rem }
.hint-actions{ display:flex; gap:.5rem }
.chip{ font-size:.7rem; padding:.25rem .5rem; border-radius:999px; background:#eef3ee; border:1px solid #dfe8df }
.ghost{ background:#fff; border:1px solid rgba(0,0,0,.12); border-radius:10px; padding:.4rem .6rem; font-weight:600; cursor:pointer }

.hint-body{ padding:.65rem .75rem; display:grid; gap:.5rem }
.row{ display:grid; grid-template-columns:92px 1fr; gap:.5rem; align-items:start }
.label{ font-size:.8rem; font-weight:700; color:#4b5a4b }
.value{ font-size:.95rem }
.answer .value{ filter: blur(6px) }
.answer.revealed .value{ filter:none }

@media (min-width: 720px){
  .hint-sheet{ left:1.25rem; right:auto; width:520px; bottom:88px }
}

/* Toast */
.toast{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:calc(74px + 12px); z-index:5; background:#111; color:#fff;
  padding:.5rem .75rem; border-radius:999px; opacity:0; pointer-events:none; transition:opacity .2s ease
}
.toast.show{ opacity:1 }

/* Status badge */
.badge{
  position:fixed; top:12px; left:12px; z-index:2; background:rgba(255,255,255,.9); border:1px solid rgba(0,0,0,.08);
  backdrop-filter:saturate(140%) blur(8px); border-radius:999px; padding:.35rem .6rem; display:flex; gap:.5rem; align-items:center;
  box-shadow:var(--shadow)
}
.dot{ width:8px; height:8px; border-radius:50%; background:var(--brand) }

/* Overlay: countdown / results */
.overlay{ position:fixed; inset:0; z-index:1000; display:flex; align-items:center; justify-content:center; padding:24px; background:rgba(0,0,0,.7); color:#fff; text-align:center }
.overlay.hidden{ display:none }
.ov-card{ width:min(560px, 92vw); background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.15); border-radius:20px; padding:20px; backdrop-filter: blur(6px) saturate(140%) }
.ov-title{ margin:0 0 .25em; font-size:1.25rem; font-weight:800 }
.ov-sub{ margin:.25em 0 1em; opacity:.9 }
.countdown{ font-size:4rem; font-weight:900; letter-spacing:.04em; line-height:1; margin:.2em 0 .1em }
.leader{ margin-top:12px; text-align:left; background:rgba(255,255,255,.08); border-radius:12px; padding:8px 10px; max-height:40vh; overflow:auto }
.leader table{ width:100% }
.leader th,.leader td{ padding:6px 4px }

/* Setup sheets (Multi & Solo) */
.setup-sheet{ position:fixed; left:.75rem; right:.75rem; bottom:74px; z-index:4; background:var(--surface); border:1px solid rgba(0,0,0,.08); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; display:none }
.setup-sheet.open{ display:block }
.setup-head{ padding:.6rem .8rem; border-bottom:1px solid rgba(0,0,0,.06); background:linear-gradient(180deg,#fff,#fafafa); font-weight:800 }
.setup-body{ padding:.75rem; display:grid; gap:.5rem }
.setup-body .row{ display:flex; gap:.5rem; align-items:center }
.setup-body .row label{ width:110px; font-size:.85rem; font-weight:700; color:#4b5a4b }
.setup-body .row > *{ flex:1 }
.setup-body input, .setup-body select, .setup-body button{ height:40px; border-radius:10px; border:1px solid rgba(0,0,0,.12); padding:0 .6rem }
.setup-body button{ background:var(--brand); color:#fff; border:0; font-weight:700; cursor:pointer }
